---
layout: default
---

<div class="container">
  <div class="post__head">
    <div class="post__info">

      <div class="post__head__inner">
        {% if page.tags.size >= 1 %}
        <div class="post__tags">
        {% for tag in page.tags %}
          <a href="{{ site.baseurl }}/tags#{{ tag }}" class="post__tag">{{ tag }}</a>
        {% endfor %}
        </div>
        {% endif %}
        <div class="post__date">•
          <time datetime="{{ page.date | date_to_xmlschema }}">{% assign date_format = site.minima.date_format | default: "%-b %d, %Y" %}{{ page.date | date: date_format }}</time>
        </div>
        <div class="post__minutes">•
          <span>
            {% assign words = page.content | number_of_words %}
            {% if words < 360 %}
              1 min read
            {% else %}
              {{ words | divided_by:180 }} min read
            {% endif %}
          </span>
        </div>
      </div>

      <h1 class="post__title">{{ page.title | escape }}</h1>

      {% if page.description %}
      <div class="post__description">{{ page.description }}</div>
      {% endif %}

      <div class="post__meta">
        <div class="post__author">
          {% assign author_usernames = page.author | split: ',' %}
          {% assign post_authors = '' | split: '' %}
          {% for author_username in author_usernames %}
            {% assign trimmed_username = author_username | strip %}
            {% assign author = site.authors | where: 'username', trimmed_username | first %}
            {% if author %}
              {% assign post_authors = post_authors | push: author %}
            {% endif %}
          {% endfor %}
          
          {% if post_authors.size > 0 %}
          <!-- Display author images -->
          {% if post_authors.size == 2 %}
            <a href="{{ post_authors[0].url | relative_url }}" class="post__author__image">
              <img class="lazy" data-src="{{ post_authors[0].image | relative_url }}" alt="{{ post_authors[0].name }}">
            </a>
            <a href="{{ post_authors[1].url | relative_url }}" class="post__author__image">
              <img class="lazy" data-src="{{ post_authors[1].image | relative_url }}" alt="{{ post_authors[1].name }}">
            </a>
          {% else %}
            <a href="{{ post_authors[0].url | relative_url }}" class="post__author__image">
              <img class="lazy" data-src="{{ post_authors[0].image | relative_url }}" alt="{{ post_authors[0].name }}">
            </a>
          {% endif %}
          <div class="post__author__bottom">
            <span>Written by</span>
            {% for author in post_authors %}
              {% if forloop.first %}
                <a class="post__author__name" href="{{ author.url | relative_url }}">{{ author.name }}</a>
              {% elsif forloop.last and post_authors.size == 2 %}
                <span> and </span><a class="post__author__name" href="{{ author.url | relative_url }}">{{ author.name }}</a>
              {% elsif forloop.last %}
                <span>, and </span><a class="post__author__name" href="{{ author.url | relative_url }}">{{ author.name }}</a>
              {% else %}
                <span>, </span><a class="post__author__name" href="{{ author.url | relative_url }}">{{ author.name }}</a>
              {% endif %}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="post__share">
          {% include share-buttons.html %}
        </div>
      </div>

    </div>

    {% if page.video_embed %}
    <div class="post__video">
      <div class="post__video__wrap">
        <iframe src="{{ page.video_embed }}" loading="lazy" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
      </div>
    </div>
    {% else %}

    {% if page.image %}
    <div class="post__image">
      <img class="lazy" data-src="{{ page.image | relative_url }}" alt="{{ page.title }}">
    </div>
    {% endif %}
    {% endif %}

    {% if page.image_caption %}
    <div class="post__image__caption">{{ page.image_caption | markdownify | replace: '<p>' | replace: '</p>' }}</div>
    {% endif %}
  </div>

  <!-- begin post -->
  <article class="post">
    <div class="post__content">
      {% if page.toc == true %}
      <div class="post__toc">
        <h2 class="post__toc__title">Table of Contents</h2>
        {% include toc.html html=content ordered=true class="post__toc__list" h_min=2 %}
      </div>
      {% endif %}

      {{ content }}
    </div>
    
  </article>
  <!-- end post -->

</div>


{% if post_authors.size > 0 %}
<div class="container">
  {% for author in post_authors %}
  <div class="card-author">
    <div class="card-author__media">
      {% if author.image %}
      <a class="card-author__image" href="{{ author.url }}">
        <img class="lazy" data-src="{{ author.image }}" alt="{{ author.name }}">
      </a>
      {% endif %}
    </div>

    <div class="card-author__content">
      <div class="card-author__role">
        {% if post_authors.size == 1 %}
          Written by
        {% elsif forloop.first %}
          Written by
        {% else %}
          Also by
        {% endif %}
      </div>
        {% if author.name %}
        <h3 class="card-author__name"><a href="{{ author.url }}" class="card-author__link">{{ author.name }}</a></h3>
        {% endif %}
        {% if author.content %}
        <p class="card-author__description">{{ author.content }}</p>
        {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}

{% if site.data.settings.disqus_identifier %}
  {% include disqus-comments.html %}
{% endif %}

{% include related-posts.html %}